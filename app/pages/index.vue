<script setup>
// å»ºç«‹ ref ç¶å®šåˆ° swiper-container
const mapSwiper = ref(null);
const journeySwiper = ref(null);
// ç”¨ useSwiper å–å¾— API
const swiper2 = useSwiper(mapSwiper);
const swiper = useSwiper(journeySwiper);

// è·‘é¦¬ç‡ˆçš„é€Ÿåº¦ï¼Œå–®ä½ï¼šç§’ï¼Œæ•¸å€¼è¶Šå°è¶Šå¿«
const marqueeSpeed = 20;
</script>

<template>
  <!-- ä¸Šæ–¹æ–œç·šè£é£¾ -->
  <div class="up-deco | h-20 bg-primary-10"></div>
  <!-- éˆæ„Ÿåœ°åœ– -->
  <section class="overflow-x-hidden bg-primary-10 py-10 md:py-[120px]">
    <div class="mx-auto max-w-container">
      <!-- æ¨™é¡Œã€ç°¡ä»‹ -->
      <div
        class="flex flex-col justify-between gap-6 px-4 lg:flex-row lg:items-center"
      >
        <!-- æ¨™é¡Œã€è£é£¾ã€tab -->
        <div class="flex-1">
          <h2 class="relative mb-6 text-h3 md:max-w-[469px] md:text-display">
            <img
              src="/images/home/deco-text-1.svg"
              alt="è£é£¾åœ–ç‰‡"
              class="absolute -top-12 left-[133px] z-10 w-[130px] md:-right-8 md:left-auto md:w-[172px]"
            />
            <span class="mb-2 block">ä»Šå¹´æ—…è¡Œçš„</span><span>éˆæ„Ÿåœ°åœ–</span>
          </h2>
          <!-- tab -->
          <ul
            class="flex items-center gap-2 overflow-x-auto whitespace-nowrap text-title"
          >
            <li
              class="cursor-pointer rounded-lg bg-primary px-4 py-2 text-white"
            >
              å…¨éƒ¨
            </li>
            <li
              class="cursor-pointer rounded-lg bg-white px-4 py-2 transition hover:bg-primary hover:text-white"
            >
              äºæ´²
            </li>
            <li
              class="cursor-pointer rounded-lg bg-white px-4 py-2 transition hover:bg-primary hover:text-white"
            >
              æ­æ´²
            </li>
            <li
              class="cursor-pointer rounded-lg bg-white px-4 py-2 transition hover:bg-primary hover:text-white"
            >
              ç¾æ´²
            </li>
            <li
              class="cursor-pointer rounded-lg bg-white px-4 py-2 transition hover:bg-primary hover:text-white"
            >
              å¤§æ´‹æ´²
            </li>
            <li
              class="cursor-pointer rounded-lg bg-white px-4 py-2 transition hover:bg-primary hover:text-white"
            >
              éæ´²
            </li>
          </ul>
        </div>
        <!-- ç°¡ä»‹ã€é›»è…¦ç‰ˆè¼ªæ’­æŒ‰éˆ• -->
        <div>
          <p class="text-start text-subtitle lg:mb-6 lg:text-right lg:text-h6">
            <span class="block lg:mb-2">
              ä¾†è‡ªæ—…äººæœå°‹ã€æ”¶è—èˆ‡è¨è«–æœ€å¤šçš„ç›®çš„åœ°æ’è¡Œæ¦œï¼Œ
            </span>
            <span>ä¸€å ´é¢¨æ ¼èˆ‡æ•…äº‹æ„Ÿå…¼å…·çš„éˆæ„Ÿæ—…è¡Œï¼Œå°±å¾é€™è£¡é–‹å§‹ã€‚</span>
          </p>
          <!-- é›»è…¦ç‰ˆè¼ªæ’­æŒ‰éˆ• -->
          <div class="hidden justify-end gap-2 lg:flex">
            <!-- å¾€å‰ä¸€å¼µ -->
            <button
              type="button"
              class="rounded-xl bg-white p-4 transition hover:bg-primary hover:text-white"
              @click="swiper2.prev()"
            >
              <svg
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="m12 20 1.41-1.41L7.83 13H20v-2H7.83l5.58-5.59L12 4l-8 8z"
                  fill="currentColor"
                />
              </svg>
            </button>
            <!-- å¾€å¾Œä¸€å¼µ -->
            <button
              type="button"
              class="rounded-xl bg-white p-4 transition hover:bg-primary hover:text-white"
              @click="swiper2.next()"
            >
              <svg
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <g clip-path="url(#a)">
                  <path
                    d="m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"
                    fill="currentColor"
                  />
                </g>
              </svg>
            </button>
          </div>
        </div>
      </div>
      <ClientOnly>
        <swiper-container
          class="pl-4 xl:w-screen xl:px-0"
          ref="mapSwiper"
          :breakpoints="{
            1536: {
              slidesPerView: 2.5,
            },
            1280: {
              slidesPerView: 1.8,
            },
            768: {
              slidesPerView: 1.4,
            },
            0: {
              slidesPerView: 1.1,
            },
          }"
          :autoplay="{
            delay: 5000,
          }"
          :loop="true"
        >
          <swiper-slide class="pr-4 pt-10 md:pr-6 md:pt-20">
            <CommonHomeMapCard
              number="1"
              img="/images/home/map-1.webp"
              :tags="['äºæ´²', 'æ—¥æœ¬äº¬éƒ½']"
              name="èµ°é€²å››å­£äº¤ç¹”çš„æ–‡åŒ–æ™‚å…‰"
              desc="ç©¿éç´…è‘‰èˆ‡å¤å¯ºçš„äº¤éŒ¯ï¼Œæ„Ÿå—å¾æ«»èŠ±ç››é–‹åˆ°ç§‹æ¥“æŸ“ç´…çš„æ—¥å¼æµªæ¼«ã€‚"
              suggestion="è³æ¥“æœ€ä½³æ™‚é–“æ˜¯ 11 æœˆä¸­æ—¬ï¼Œæ¨è–¦æ¸…æ°´å¯ºå’Œå—ç¦ªå¯ºä¸€å¸¶ ğŸ"
              cta="ç«‹å³æ¢ç´¢é­…åŠ›å¤éƒ½"
            />
          </swiper-slide>
          <swiper-slide class="pr-4 pt-10 md:pr-6 md:pt-20">
            <CommonHomeMapCard
              number="2"
              img="/images/home/map-2.webp"
              :tags="['äºæ´²', 'å—éŸ“é¦–çˆ¾']"
              name="å¾è¡—é‚Šç¾é£Ÿåˆ°éŸ“åŠ‡å ´æ™¯"
              desc="ç™½å¤©åœ¨å¼˜å¤§å°å··æ¢åº—ï¼Œå¤œæ™šç™»ä¸Šå—å±±å¡”ä¿¯ç°æ•´åº§åŸå¸‚çš„é–ƒçˆã€‚"
              suggestion="å¼˜å¤§å‘¨é‚Šé€±äº”å‚æ™šæœ€ç†±é¬§ï¼Œå°åƒèˆ‡è¡—é ­è—äººé½Šç™¼âœ¨"
              cta="æ„Ÿå—éŸ“ç³»é¢¨æ ¼æ—¥å¸¸"
            />
          </swiper-slide>
          <swiper-slide class="pr-4 pt-10 md:pr-6 md:pt-20">
            <CommonHomeMapCard
              number="3"
              img="/images/home/map-3.webp"
              :tags="['æ­æ´²', 'æ³•åœ‹å·´é»']"
              name="åœ¨è—è¡“èˆ‡å’–å•¡é¦™ä¸­è¿·è·¯"
              desc="ç©¿æ¢­å·¦å²¸æ›¸åº—èˆ‡ç•«å»Šï¼Œä»»ç”±éºµåŒ…é¦™èˆ‡å»ºç¯‰ç´°ç¯€æ“æŠ±ä½ çš„æ­¥ä¼ã€‚"
              suggestion="èµ°é€²ç‘ªé»‘å€ï¼Œæœ€å®¹æ˜“èˆ‡å·´é»é¢¨æ ¼ä¸æœŸè€Œé‡ â˜•ï¸"
              cta="é–‹å•Ÿæˆ‘çš„å·´é»å ±éšª"
            />
          </swiper-slide>
          <swiper-slide class="pr-4 pt-10 md:pr-6 md:pt-20">
            <CommonHomeMapCard
              number="4"
              img="/images/home/map-4.webp"
              :tags="['å¤§æ´‹æ´²', 'æ¾³æ´²é›ªæ¢¨']"
              name="åŸå¸‚èˆ‡å¤§è‡ªç„¶çš„äº¤æœƒ"
              desc="æ¸…æ™¨åœ¨æµ·ç˜åšç‘œçˆï¼Œåˆå¾Œæ¼«æ­¥æ­ŒåŠ‡é™¢ï¼Œäº«å—åŸå¸‚çš„ç¯€å¥èˆ‡é‡æ€§çš„å‘¼å–šã€‚"
              suggestion="åˆ¥éŒ¯éå‚æ™šåœ¨é›ªæ¢¨æ¸¯çœ‹æ—¥è½ï¼‹æ¬£è³æ­ŒåŠ‡é™¢å¤œç‡ˆ âœ¨"
              cta="ç¾åœ¨å°±é£›å‘å—åŠçƒ"
            />
          </swiper-slide>
          <swiper-slide class="pr-4 pt-10 md:pr-6 md:pt-20">
            <CommonHomeMapCard
              number="5"
              img="/images/home/map-5.webp"
              :tags="['éæ´²', 'åŸƒåŠé–‹ç¾…']"
              name="ç©¿è¶Šåƒå¹´æ™‚å…‰çš„æ²™æ¼ å†’éšª"
              desc="ä¹˜è‘—é§±é§èµ°éå¤è€éºè·¡ï¼ŒæŠ¬é ­ä»°æœ›å¤ªé™½ç¥çš„å…‰èŠ’ï¼Œåœ¨æ­·å²èˆ‡å‚³èªªä¹‹é–“è¿·å¤±ã€‚"
              suggestion="å»ºè­°æ—©ä¸Š 8 é»å‰åˆ°å‰è–©é‡‘å­—å¡”ï¼Œé¿é–‹äººæ½®èˆ‡çƒˆæ—¥ â˜€ï¸"
              cta="æ­é–‹å¤æ–‡æ˜çš„é¢ç´—"
            />
          </swiper-slide>
        </swiper-container>
      </ClientOnly>
    </div>
  </section>
  <!-- ä¸‹æ–¹æ–œç·šè£é£¾ -->
  <div class="down-deco | h-20 bg-primary-10"></div>
  <!-- æœå°‹å¢¨çˆ¾æœ¬å—ï¼Ÿ -->
  <section class="py-10 pl-3 md:py-[120px] lg:px-3">
    <div class="mx-auto max-w-container">
      <h2 class="relative mb-10 text-h3 md:mb-20 md:text-display">
        <!-- è£é£¾äº•å­—è™Ÿ -->
        <img
          src="/images/home/bg-pound-sign.svg"
          alt="è£é£¾äº•å­—è™Ÿ"
          class="absolute -left-2 -top-5 z-0 size-[52px] md:-left-12 md:-top-12 md:size-[120px]"
        />
        <span class="relative z-10"> æœå°‹å¢¨çˆ¾æœ¬å—ï¼Ÿ<br />ä¾†é»è¡Œç¨‹åƒè€ƒï¼ </span>
      </h2>
      <ClientOnly>
        <div class="relative">
          <!-- å¾€å‰ä¸€å¼µ -->
          <button
            @click="swiper.prev()"
            class="absolute -left-20 top-1/2 hidden -translate-y-1/2 rounded-xl p-4 shadow-button 2xl:block"
          >
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="m12 20 1.41-1.41L7.83 13H20v-2H7.83l5.58-5.59L12 4l-8 8z"
                fill="currentColor"
              />
            </svg>
          </button>
          <!-- å¾€å¾Œä¸€å¼µ -->
          <button
            @click="swiper.next()"
            class="absolute -right-20 top-1/2 hidden -translate-y-1/2 rounded-xl p-4 shadow-button 2xl:block"
          >
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <g clip-path="url(#a)">
                <path
                  d="m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"
                  fill="currentColor"
                />
              </g>
            </svg>
          </button>
          <swiper-container
            ref="journeySwiper"
            :breakpoints="{
              1024: {
                slidesPerView: 4,
              },
              640: {
                slidesPerView: 2.2,
              },
              0: {
                slidesPerView: 1.175,
              },
            }"
            space-between="24"
            :autoplay="{
              delay: 5000,
            }"
            :loop="true"
          >
            <swiper-slide>
              <CommonAttractionCard
                img="/images/home/journey-1.webp"
                name="ã€ç¨å®¶å„ªæƒ ã€‘å¸ƒèŠé “å½©è‰²å°å±‹ï¼‹æ£®æ—è’¸æ±½ç«è»Šä¸€æ—¥éŠ"
                :tags="['å³è²·å³ç”¨', '5 å¤©å‰å¯å…è²»å–æ¶ˆ']"
                ratingScore="4.2"
                ratingCount="333"
                alreadyBuy="500"
                originalPrice="NT$ 5,220"
                discountPrice="NT$ 4,220"
              />
            </swiper-slide>
            <swiper-slide>
              <CommonAttractionCard
                img="/images/home/journey-2.webp"
                name="ç„¡å°¾ç†Šå‹•ç‰©åœ’ï¼‹ä¼éµæ­¸å·¢é›™äº«ä¹‹æ—…"
                :tags="['å³è²·å³ç”¨', '7 å¤©å‰å¯å…è²»å–æ¶ˆ']"
                ratingScore="4.2"
                ratingCount="333"
                alreadyBuy="500"
                originalPrice="NT$ 4,920"
                discountPrice="NT$ 3,890"
              />
            </swiper-slide>
            <swiper-slide>
              <CommonAttractionCard
                img="/images/home/journey-3.webp"
                name="å¤§æ´‹è·¯ç¶“å…¸ä¸€æ—¥éŠï½œä¸­æ–‡å°è¦½ï¼é«”é©—æ¾³æ´²æœ€å¤¢å¹»çš„æµ·å²¸ç·š"
                :tags="['ä¸­æ–‡å°è¦½', '5 å¤©å‰å¯å…è²»å–æ¶ˆ']"
                ratingScore="4.2"
                ratingCount="333"
                alreadyBuy="500"
                originalPrice="NT$ 4,500"
                discountPrice="NT$ 3,690"
              />
            </swiper-slide>
            <swiper-slide>
              <CommonAttractionCard
                img="/images/home/journey-4.webp"
                name="å¢¨çˆ¾æœ¬å¸‚å€å°è¦½ï½œå£ç•«å··ï¼‹éš±è—å’–å•¡å»³ä¹‹æ—…ï¼Œé«”é©—æœ¬åœ°å’–å•¡æ–‡åŒ–ã€éš±è—å°å··æ‹ç…§"
                :tags="['å°ˆæ¥­å°è¦½', '3 å¤©å‰å¯å…è²»å–æ¶ˆ']"
                ratingScore="4.2"
                ratingCount="333"
                alreadyBuy="500"
                originalPrice="NT$ 2,480"
                discountPrice="NT$ 1,280"
              />
            </swiper-slide>
            <swiper-slide>
              <CommonAttractionCard
                img="/images/home/journey-5.webp"
                name="å¤§æ´‹è·¯ç¶“å…¸ä¸€æ—¥éŠï½œä¸­æ–‡å°è¦½ï¼é«”é©—æ¾³æ´²æœ€å¤¢å¹»çš„æµ·å²¸ç·š"
                :tags="['ä¸­æ–‡å°è¦½', '5 å¤©å‰å¯å…è²»å–æ¶ˆ']"
                ratingScore="4.2"
                ratingCount="333"
                alreadyBuy="500"
                originalPrice="NT$ 4,500"
                discountPrice="NT$ 3,690"
              />
            </swiper-slide>
          </swiper-container>
        </div>
      </ClientOnly>
    </div>
  </section>
  <!-- è·‘é¦¬ç‡ˆ -->
  <section class="overflow-hidden whitespace-nowrap">
    <div
      class="marquee | flex items-center gap-2 text-[32px] font-bold leading-[1.2] text-primary-10 md:gap-6 md:text-[130px]"
      :style="`--marquee-duration: ${marqueeSpeed}s;`"
    >
      <span># ZOBAA</span>
      <span># WHERETOGO</span>
      <span># TODAY</span>
      <span># ZOBAA</span>
      <span># WHERETOGO</span>
      <span># TODAY</span>
    </div>
  </section>
  <!-- ç‚ºä»€éº¼é¸æ“‡ ZOBAA ? -->
  <section
    class="relative overflow-hidden bg-primary-40 px-3 py-10 lg:py-[120px]"
  >
    <!-- è£é£¾åœ“åœˆ1 -->
    <img
      src="/images/home/bg-circle.svg"
      alt="è£é£¾åœ“åœˆ1"
      class="absolute -left-[240px] -top-[360px] z-20 hidden size-[800px] xl:block"
    />
    <!-- è£é£¾åœ“åœˆ2 -->
    <img
      src="/images/home/bg-circle.svg"
      alt="è£é£¾åœ“åœˆ2"
      class="absolute -bottom-[480px] right-10 z-0 hidden xl:block"
    />
    <!-- è£é£¾ç·šæ¢ -->
    <img
      src="/images/home/bg-line.svg"
      alt="è£é£¾ç·šæ¢"
      class="absolute bottom-[295px] left-1/2 z-0 hidden w-full -translate-x-1/2 xl:block"
    />
    <div class="relative z-10 mx-auto max-w-container">
      <!-- åœ–ç‰‡ -->
      <picture>
        <source
          media="(max-width: 640px)"
          srcset="/images/home/card-mobile.webp"
        />
        <img
          src="/images/home/card.webp"
          alt="æŠŠæ—…è¡Œè®Šæˆç”Ÿæ´»çš„é¤Šåˆ†ã€‚"
          class="mb-2 w-full lg:mb-6"
        />
      </picture>
      <!-- å…§å®¹ -->
      <div
        class="grid grid-cols-1 gap-6 rounded-3xl bg-[#F3EEEC80] p-6 backdrop-blur lg:grid-cols-2 lg:rounded-[32px] lg:p-8"
      >
        <!-- æ¨™é¡Œã€æ•˜è¿° -->
        <div class="space-y-4 lg:space-y-6">
          <h2 class="text-h5 lg:text-h1">ç‚ºä»€éº¼é¸æ“‡ ZOBAA ?</h2>
          <p class="text-neutral">
            ä¸åªæ˜¯å¸¶ä½ æŠµé”ç›®çš„åœ°ï¼Œæ›´åœ¨æ¯ä¸€æ¬¡å‡ºç™¼å‰ï¼Œæ›¿ä½ é æƒ³æ‰€æœ‰ç´°ç¯€ã€‚<br />
            ZOBAA å¸Œæœ›ä½ èƒ½æ”¾å¿ƒæ¢ç´¢ä¸–ç•Œï¼ŒæŠŠè¨˜æ†¶ç•™çµ¦æ—…ç¨‹æœ¬èº«ã€‚
          </p>
          <!-- é›»è…¦ç‰ˆæŒ‰éˆ• -->
          <NuxtLink
            to="/product-info"
            class="group hidden w-fit items-center gap-2 rounded-full bg-black px-6 py-4 text-subtitle text-white transition hover:bg-white hover:text-black md:gap-4 md:px-8 md:py-6 md:text-h6 lg:flex"
          >
            ç«‹å³æ¢ç´¢æˆ‘å€‘çš„ç²¾å¿ƒæ—…ç¨‹
            <!-- è£é£¾ icon -->
            <svg
              width="32"
              height="32"
              viewBox="0 0 32 32"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              class="transition group-hover:translate-x-2"
            >
              <rect width="32" height="32" rx="16" fill="#fff" />
              <g clip-path="url(#a)">
                <path
                  d="m16 8-1.41 1.41L20.17 15H8v2h12.17l-5.58 5.59L16 24l8-8z"
                  fill="#000"
                />
              </g>
            </svg>
          </NuxtLink>
        </div>
        <!-- ç¸¾æ•ˆ -->
        <div class="grid grid-cols-1 gap-4 lg:grid-cols-2">
          <div
            class="content-center rounded-2xl border border-[#E9E9E9] bg-white p-6 lg:p-8"
          >
            <h3 class="mb-2 flex items-center gap-2 text-h3 lg:text-h1">
              8 å¹´<sup>+</sup>
            </h3>
            <p class="text-title text-primary-80 lg:text-h6">æ—…éŠä¼åŠƒç¶“é©—</p>
          </div>
          <div
            class="content-center rounded-2xl border border-[#E9E9E9] bg-white p-6 lg:p-8"
          >
            <h3 class="mb-2 flex items-center gap-2 text-h3 lg:text-h1">
              30,000<sup>+</sup>
            </h3>
            <p class="text-title text-primary-80 lg:text-h6">æ—…äººäº”æ˜Ÿå¥½è©•</p>
          </div>
        </div>
        <!-- æ‰‹æ©Ÿç‰ˆæŒ‰éˆ• -->
        <NuxtLink
          to="/product-info"
          class="group flex items-center justify-between gap-2 rounded-full bg-black px-6 py-4 text-subtitle text-white transition hover:bg-white hover:text-black md:gap-4 md:px-8 md:py-6 md:text-h6 lg:hidden"
        >
          ç«‹å³æ¢ç´¢æˆ‘å€‘çš„ç²¾å¿ƒæ—…ç¨‹
          <!-- è£é£¾ icon -->
          <svg
            width="32"
            height="32"
            viewBox="0 0 32 32"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            class="transition group-hover:translate-x-2"
          >
            <rect width="32" height="32" rx="16" fill="#fff" />
            <g clip-path="url(#a)">
              <path
                d="m16 8-1.41 1.41L20.17 15H8v2h12.17l-5.58 5.59L16 24l8-8z"
                fill="#000"
              />
            </g>
          </svg>
        </NuxtLink>
      </div>
    </div>
  </section>
</template>

<style scoped>
/* ä¸Šæ–¹æ–œç·šè£é£¾ */
.up-deco {
  clip-path: polygon(0 80%, 100% 0, 100% 100%, 0 100%);
}
/* ä¸‹æ–¹æ–œç·šè£é£¾ */
.down-deco {
  clip-path: polygon(0 0, 100% 0, 100% 20%, 0 100%);
}

.marquee {
  /* è·‘é¦¬ç‡ˆå‹•ç•«ï¼Œç§»å‹•å¯¬åº¦éœ€çœ‹å…§å®¹é•·åº¦ */
  animation: marquee var(--marquee-duration, 10s) linear infinite;
}

/* é—œéµå‹•ç•«ï¼šå¾å³åˆ°å·¦ç§»å‹• 50% */
@keyframes marquee {
  0% {
    transform: translateX(0);
  }
  100% {
    transform: translateX(-100%);
  }
}
</style>
